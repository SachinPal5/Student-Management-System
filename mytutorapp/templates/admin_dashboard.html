{% extends 'base.html' %}
{% block content %}
<style>
  body { font-family: 'Segoe UI', sans-serif; background: #f7f9fc; }
  .dashboard-container { max-width: 1100px; margin: auto; padding: 30px; }
  h2 { color: #2c3e50; margin-bottom: 20px; }
  ul.dashboard-links li { margin: 8px 0; }
  ul.dashboard-links a { color: #2980b9; text-decoration: none; font-weight: 500; }
  ul.dashboard-links a:hover { text-decoration: underline; }
  table.dashboard-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 30px;
    background: white;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
    border-radius: 8px;
    overflow: hidden;
  }
  table.dashboard-table th, table.dashboard-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #eee;
  }
  table.dashboard-table th {
    background-color: #3498db;
    color: white;
  }
  .fee-due { background-color: #ffecec; }
  .fee-clear { background-color: #eaffea; }
</style>

<div class="dashboard-container">
  <h2>👨‍🏫 Admin Dashboard – Khushi Group Tuition</h2>

  <ul class="dashboard-links">
    <li><a href="{% url 'fee_management' %}">💼 Manage Fees</a></li>
    <li><a href="{% url 'send_fee_reminders' %}">📲 Send Fee Reminders</a></li>
    <li><a href="{% url 'study_material' %}">📚 View Study Materials</a></li>
    <li><a href="{% url 'courses' %}">📖 Manage Courses</a></li>
    <li><a href="{% url 'register' %}">➕ Register New Student</a></li>
    <li><a href="{% url 'dashboard' %}">🧑‍🎓 Student Dashboard</a></li>
    <li><a href="{% url 'home' %}">🏠 Website Home</a></li>
    <li><a href="{% url 'logout' %}">🚪 Logout</a></li>
  </ul>

  <hr style="margin: 30px 0;">

  <h3>📊 Student Fee Overview</h3>
  <table class="dashboard-table">
    <thead>
      <tr>
        <th>#</th>
        <th>👤 Name</th>
        <th>📚 Class</th>
        <th>💸 Fee Due</th>
        <th>📅 Admission Date</th>
      </tr>
    </thead>
    <tbody>
      {% for student in students %}
      <tr class="{% if student.fee_due > 0 %}fee-due{% else %}fee-clear{% endif %}">
        <td>{{ forloop.counter }}</td>
        <td>{{ student.name }}</td>
        <td>
          {% if student.course %}
            {{ student.course.title }}
          {% else %}
            N/A
          {% endif %}
        </td>
        <td>₹{{ student.fee_due }}</td>
        <td>{{ student.admission_date }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
